<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styleinspeccionequipo.css">
    <title>FORMATO INSPECCIÓN DE EQUIPOS DE TRABAJO EN ALTURAS - <span id="datetime"></span></title>
<script>
function updateDateTime() {
  const now = new Date();
  
  const date = now.toLocaleDateString();
  const hours = now.getHours();
  const minutes = now.getMinutes();
  const ampm = hours >= 12 ? 'PM' : 'AM';
  const hours12 = hours % 12 === 0 ? 12 : hours % 12;
  const formattedTime = `${hours12}:${minutes.toString().padStart(2, '0')} ${ampm}`;
  const datetimeString = `${date} ${formattedTime}`;
  
  const dateElement = document.getElementById('datetime');
  document.title = `FORMATO INSPECCIÓN DE EQUIPOS DE TRABAJO EN ALTURAS - ${datetimeString}`;
  dateElement.textContent = datetimeString;
}

setInterval(updateDateTime, 1000);
updateDateTime();
</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.plugin.autotable.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<body>
    
    <header style="display: flex; align-items: center; justify-content: space-between;">
        <div style="display: flex; align-items: center;">
            <div id="button2" onclick="window.location.href='principal.html'" style="margin-right: 19px; cursor: pointer;">
                <i class="fas fa-home"></i> Volver a Inicio
            </div>
            <h1 id="title">FORMATO INSPECCIÓN DE EQUIPOS DE TRABAJO EN ALTURAS</h1>
        </div>
        <img class="logo" src="logo.png" alt="Logo" style="margin-left: 20px;">
    </header>
    <div class="container">
    <h2>Valles & Villegas Multiservicios S.A.S. </h2>
      
    

    <label for="lugarejecucion">Lugar de ejecución: </label>
            <input type="text" id="lugarejecucion" required>
        
    <label for="Responsablequipo">Responsable del equipo: </label>
            <input type="text" id="Responsablequipo" required>

            <label for="fecha-servicio">Fecha de diligenciamiento </label>
    <input type="date" id="fecha-servicio">
    

            <table>

                <thead>
                    <tr>
                        <th colspan="6" class="table-header" style="text-align: center;">CONDICIÓN ELEMENTOS DE EQUIPOS CONTRA CAIDAS DE ALTURAS					
                        </th>
                    </tr>
                   
                    <tr>
                        <th><b>EVALUAR AUSENCIA DE LAS SIGUIENTES CONDICIONES</b> <br>
                            TEJIDO O CORREA
                           				
                        </th>
                        <th> Estado-PRE</th>
                        <th> Estado-POST</th>
                        <th>BUEN ESTADO</th>
                        <th>RECHAZO</th>
                        
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> <b>FIBRAS EXTERNAS CORTADAS, DESGASTADAS, DESGARRADAS </b> <br>
                          
                        
                            Sujetar la correa con las manos separadas entre 6 y 8 pulgadas. Curvar la cinta formando una U invertida. <br>
                            La tensión superficial resultante permite que las fibras dañadas o los cortes sean visibles con mayor facilidad. <br>
                             Verificar al tacto condición de las fibras. Continuar procedimiento a lo largo de la correa.</td>
                        <td><input type="checkbox" name="FIBRASpre"></td>
                        <td><input type="checkbox" name="FIBRASPOST"></td>
                        <td><input type="checkbox" name="FIBRASBUENESTADO"></td>
                        <td><input type="checkbox" name="FIBRASRECHAZO"></td>
                      
                    </tr>
                    <tr>
                        <td>CORTES O ROTURA DEL TEJIDO O COSTURAS</td>
                        <td><input type="checkbox" name="CORTESpre"></td>
                        <td><input type="checkbox" name="CORTESPOST"></td>
                        <td><input type="checkbox" name="CORTESBUENESTADO"></td>
                        <td><input type="checkbox" name="CORTESRECHAZO"></td>
                        
                    </tr>
                    <tr>
                        <td>GRIETAS</td>
                        <td><input type="checkbox" name="GRIETASpre"></td>
                        <td><input type="checkbox" name="GRIETASPOST"></td>
                        <td><input type="checkbox" name="GRIETASBUENESTADO"></td>
                        <td><input type="checkbox" name="GRIETASRECHAZO"></td>
                    
                    </tr>
                    <tr>
                        <td>ESTIRAMIENTO EXCESIVO</td>
                        <td><input type="checkbox" name="ESTIRAMIENTOpre"></td>
                        <td><input type="checkbox" name="ESTIRAMIENTOPOST"></td>
                        <td><input type="checkbox" name="ESTIRAMIENTOSTADO"></td>
                        <td><input type="checkbox" name="ESTIRAMIENTORECHAZO"></td>
                      
                    </tr>
                    <tr>
                        <td>DETERIORO GENERAL</td>
                        <td><input type="checkbox" name="DETERIOROpre"></td>
                        <td><input type="checkbox" name="DETERIOROPOST"></td>
                        <td><input type="checkbox" name="DETERIOROESTADO"></td>
                        <td><input type="checkbox" name="DETERIORORECHAZO"></td>
                       
                    </tr>
                    <tr>
                        <td>CORROSIÓN O DESGASTE POR EXPOSICIÓN A ÁCIDOS O PRODUCTOS QUÍMICOS</td>
                        <td><input type="checkbox" name="DETERIOROpre"></td>
                        <td><input type="checkbox" name="DETERIOROPOST"></td>
                        <td><input type="checkbox" name="DETERIOROESTADO"></td>
                        <td><input type="checkbox" name="DETERIORORECHAZO"></td>
                       
                    </tr>
                    <tr>
                        <td><b>QUEMADURAS O FIBRAS DERRETIDAS</b> <br>
                            Puntos o áreas duras o brillantes indican daño por exposición al calor o a radiación UV.</td>
                            <td><input type="checkbox" name="QUEMADURASpre"></td>
                            <td><input type="checkbox" name="QUEMADURASPOST"></td>
                            <td><input type="checkbox" name="QUEMADURASESTADO"></td>
                            <td><input type="checkbox" name="QUEMADURASRECHAZO"></td>
                    
                    </tr>
                    <tr>
                        <td> <b>DECOLORACIÓN DEL MATERIAL</b> <br>
                             Consultar proveedor o fabricante para determinar condición dependiendo de la causa de la decoloración.</td>
                        <td><input type="checkbox" name="Consultarpre"></td>
                        <td><input type="checkbox" name="ConsultarPOST"></td>
                        <td><input type="checkbox" name="ConsultarESTADO"></td>
                        <td><input type="checkbox" name="ConsultarRECHAZO"></td>
                       
                    </tr>

                    <tr>
                        <td>PRESENCIA DE MOHO</td>
                        <td><input type="checkbox" name="Consultarpre"></td>
                        <td><input type="checkbox" name="ConsultarPOST"></td>
                        <td><input type="checkbox" name="ConsultarESTADO"></td>
                        <td><input type="checkbox" name="ConsultarRECHAZO"></td>
                       
                    </tr>
                    <tr>
                        <td>OTROS</td>
                        <td><input type="checkbox" name="OTROSpre"></td>
                        <td><input type="checkbox" name="OTROSPOST"></td>
                        <td><input type="checkbox" name="OTROSESTADO"></td>
                        <td><input type="checkbox" name="OTROSRECHAZO"></td>
                       
                    </tr>
                </tbody>
            </table>
            
            


<div id="contentToCapture">
   
    <table id="reportadoPorTable" style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th style="border: 1px solid #ccc; padding: 8px;">Firma</th>
                <th  id="nombre" style="border: 1px solid #ccc; padding: 8px;">Nombre</th>
               
                <th  id="cedula" style="border: 1px solid #ccc; padding: 8px;">Cedula: </th>
              
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <canvas class="signatureCanvas" width="200" height="100" style="border: 1px solid #ccc;"></canvas>
                </td>
                <td contenteditable="true" style="border: 1px solid #ccc; padding: 8px;"></td>
            
                <td contenteditable="true" style="border: 1px solid #ccc; padding: 8px;"></td>
               
            </tr>
        </tbody>
    </table>

    <!-- Botones para limpiar las firmas -->
    <div style="margin-top: 20px;">
        <button id="clearSignatureReportedBy" style="background-color: red;">Limpiar Firma</button>
       
    </div>

    <!-- Modal para la firma -->
    <div id="signatureModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Firma</h2>
            <canvas id="modalCanvas" width="400" height="200"></canvas>
            <button id="saveSignature">Guardar firma</button>
        </div>
    </div>
</div>

           
            <img id="logo" src="logo.png" alt="Logo" style="display:none;" />
            

            <button id="printButton">Imprimir</button>
            <button id="reloadButton">Limpiar Formulario</button>
            
        </form>
    </div>
    <script>
        document.getElementById('printButton').addEventListener('click', function() {
             // Validar campos requeridos
             const requiredFields = [
         document.getElementById('Diligenciado'),
         document.getElementById('fecha-servicio'),
         document.getElementById('Dependencia'),
         document.getElementById('cargo'),
         
       
      
     ];
        // Limpiar placeholders en campos contenteditable
        const placeholders = document.querySelectorAll('td[contenteditable="true"]');
        placeholders.forEach(td => {
            if (td.textContent.trim() === "") {
                td.textContent = ""; // Limpia el contenido antes de imprimir
            }
        });
 
             let allValid = true;
 
             requiredFields.forEach(field => {
                 if (!field.value) {
                     allValid = false;
                     field.style.border = '2px solid red'; // Resaltar campo no válido
                 } else {
                     field.style.border = ''; // Restablecer el borde si es válido
                 }
             });
 
             if (allValid) {
                 window.print();
             } else {
                 alert('Por favor, complete todos los campos requeridos.');
             }
             
         });
        
     </script>
     

      <script>
          document.getElementById('reloadButton').addEventListener('click', function() {
              window.location.reload();
          });
      </script>
    
    <script src="script/scripchequeo.js"></script>

    
</body>
</html>

